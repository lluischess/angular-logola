<section class="carousel-wrapper">
  <!-- Mostrar loading mientras cargan los banners -->
  <div *ngIf="isLoading" class="carousel-loading d-flex justify-content-center align-items-center" style="height: 600px; background-color: #f8f9fa;">
    <div class="text-center">
      <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Cargando banners...</span>
      </div>
      <p class="mt-3 text-muted">Cargando banners...</p>
    </div>
  </div>

  <!-- Mostrar banners dinámicos -->
  <div *ngIf="!isLoading && banners.length > 0" class="carousel-container" [ngStyle]="{ transform: 'translateX(' + offset + '%)' }">
    <!-- Banners dinámicos del backend -->
    <div *ngFor="let banner of banners; let i = index" class="carousel-slide" [ngStyle]="getBannerStyles(banner)">
      <div class="container-lg">
        <!-- Contenido dinámico del banner -->
        <div class="row">
          <div class="col-lg-6 pt-5 mt-5">

            <h2 class="display-1 ls-1" [ngStyle]="getTextStyles(banner)">
              <span class="fw-bold">{{ banner.titulo }}</span>
            </h2>
            <p class="fs-4" [ngStyle]="getTextStyles(banner)">{{ banner.subtitulo }}</p>
            <div class="d-flex gap-3">
              <a [href]="banner.enlace" class="btn text-uppercase fs-6 rounded-pill px-4 py-3 mt-3" [ngStyle]="getButtonStyles(banner)">{{ banner.nombreBoton }}</a>
              <!-- Segundo botón opcional -->
              <a *ngIf="banner.enlaceButton2 && banner.nombreButton2"
                 [href]="banner.enlaceButton2"
                 class="btn text-uppercase fs-6 rounded-pill px-4 py-3 mt-3"
                 [ngStyle]="getSecondButtonStyles(banner)">
                {{ banner.nombreButton2 }}
              </a>
            </div>

            <!-- Estadísticas del primer banner (solo en el primer slide) -->
            <!-- <div *ngIf="i === 0" class="row my-5">
              <div class="col">
                <div class="text-dark">
                  <div class="col-auto"><p class="fs-1 fw-bold lh-sm mb-0">320+</p></div>
                  <div class="col"><p class="text-uppercase lh-sm mb-0">Ideas</p></div>
                </div>
              </div>
              <div class="col">
                <div class="text-dark">
                  <div class="col-auto"><p class="fs-1 fw-bold lh-sm mb-0">5000+</p></div>
                  <div class="col"><p class="text-uppercase lh-sm mb-0">Clientes satisfechos</p></div>
                </div>
              </div>
              <div class="col">
                <div class="text-dark">
                  <div class="col-auto"><p class="fs-1 fw-bold lh-sm mb-0">20.000+</p></div>
                  <div class="col"><p class="text-uppercase lh-sm mb-0">Presupuestos enviados</p></div>
                </div>
              </div>
            </div> -->
          </div>
        </div>

        <!-- Sección fija de las 3 tarjetas (solo en el primer slide) -->
        <!-- <div *ngIf="i === 0" class="row row-cols-1 row-cols-sm-3 row-cols-lg-3 g-0 justify-content-center">
          <div class="col">
            <div class="card border-0 bg-primary rounded-0 p-4 text-light">
              <div class="row">
                <div class="col-md-3 text-center">
                  <svg width="60" height="60"><use xlink:href="#fresh"></use></svg>
                </div>
                <div class="col-md-9">
                  <div class="card-body p-0">
                    <h5 class="text-light">Profesionalidad</h5>
                    <p class="card-text">Somos un empresa con mas de 20 años de experiencia en el sector.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card border-0 bg-secondary rounded-0 p-4 text-light">
              <div class="row">
                <div class="col-md-3 text-center">
                  <svg width="60" height="60"><use xlink:href="#organic"></use></svg>
                </div>
                <div class="col-md-9">
                  <div class="card-body p-0">
                    <h5 class="text-light">100% Organico</h5>
                    <p class="card-text">Disponemos de cajas,botes y materiales organicos para favorecer al medio ambiente.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col">
            <div class="card border-0 bg-danger rounded-0 p-4 text-light">
              <div class="row">
                <div class="col-md-3 text-center">
                  <svg width="60" height="60"><use xlink:href="#delivery"></use></svg>
                </div>
                <div class="col-md-9">
                  <div class="card-body p-0">
                    <h5 class="text-light">Envios personalizados</h5>
                    <p class="card-text">Realizamos envios a temperaturas bajas para preservar el producto.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div> -->

      </div>
    </div>
  </div>

  <!-- Mostrar mensaje si no hay banners -->
  <div *ngIf="!isLoading && banners.length === 0" class="carousel-fallback d-flex justify-content-center align-items-center" style="height: 600px; background-color: #f8f9fa;">
    <div class="text-center">
      <h3 class="text-muted">No hay banners configurados</h3>
      <p class="text-muted">Configure banners desde el panel de administración</p>
    </div>
  </div>

  <!-- Flechas de navegación (solo si hay más de 1 banner) -->
  <button *ngIf="!isLoading && banners.length > 1" class="carousel-control prev" (click)="prevSlide()">&#10094;</button>
  <button *ngIf="!isLoading && banners.length > 1" class="carousel-control next" (click)="nextSlide()">&#10095;</button>
</section>
